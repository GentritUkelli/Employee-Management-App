{"ast":null,"code":"import axios from \"axios\";\nimport { GET_TASKS, GET_ERRORS, CREATE_TASK, GET_TASK, DELETE_TASK, UPDATE_TASK } from \"./types\";\nexport const getTasks = (dep_id, emp_id, id) => async dispatch => {\n  try {\n    let apiUrl = `http://localhost:8095/api/tasks/${dep_id}/${emp_id}`;\n    if (id) {\n      // If an 'id' is provided, add it to the URL to fetch data for a specific task\n      apiUrl += `/${id}`;\n    }\n    const res = await axios.get(apiUrl);\n    dispatch({\n      type: GET_TASKS,\n      payload: res.data\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response.data\n    });\n  }\n};\nexport const createTask = (task, dep_id, emp_id) => async dispatch => {\n  try {\n    const res = await axios.post(`http://localhost:8095/api/tasks/${dep_id}/${emp_id}`, task);\n\n    // Dispatch an action to handle the successful creation\n    dispatch({\n      type: CREATE_TASK,\n      // You should define this action type in your Redux actions\n      payload: res.data,\n      priority: parseInt(task.priority) // Use task.priority to get the priority\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response.data\n    });\n  }\n};\nexport const getTask = (dep_id, emp_id, id) => async dispatch => {\n  try {\n    const res = await axios.get(`http://localhost:8095/api/tasks/${dep_id}/${emp_id}/${id}`);\n    dispatch({\n      type: GET_TASK,\n      payload: res.data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response.data\n    });\n  }\n};\nexport const deleteTask = (dep_id, emp_id, id) => async dispatch => {\n  if (window.confirm(\"Are you sure you want to delete this Task?\")) {\n    await axios.delete(`http://localhost:8095/api/tasks/${dep_id}/${emp_id}/${id}`);\n    dispatch({\n      type: DELETE_TASK,\n      payload: id\n    });\n  }\n};\nexport const updateTask = (updatedTask, dep_id, emp_id, id) => async dispatch => {\n  try {\n    const res = await axios.put(`http://localhost:8095/api/tasks/${dep_id}/${emp_id}/${id}`, updatedTask, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n\n    // Dispatch an action to handle the successful update\n    dispatch({\n      type: UPDATE_TASK,\n      // Define the action type here\n      payload: res.data // You may update the payload based on your needs\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response.data\n    });\n  }\n};","map":{"version":3,"names":["axios","GET_TASKS","GET_ERRORS","CREATE_TASK","GET_TASK","DELETE_TASK","UPDATE_TASK","getTasks","dep_id","emp_id","id","dispatch","apiUrl","res","get","type","payload","data","error","response","createTask","task","post","priority","parseInt","getTask","console","log","deleteTask","window","confirm","delete","updateTask","updatedTask","put","headers"],"sources":["C:/home/edilat/IDE/git-repositories/web-products/internship-web/live-sessions-internship-web/employee-management-frontend/src/actions/TaskActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  GET_TASKS,\r\n  GET_ERRORS,\r\n  CREATE_TASK,\r\n  GET_TASK,\r\n  DELETE_TASK,\r\n  UPDATE_TASK, \r\n} from \"./types\";\r\n\r\nexport const getTasks = (dep_id, emp_id, id) => async (dispatch) => {\r\n  try {\r\n    let apiUrl = `http://localhost:8095/api/tasks/${dep_id}/${emp_id}`;\r\n    \r\n    if (id) {\r\n      // If an 'id' is provided, add it to the URL to fetch data for a specific task\r\n      apiUrl += `/${id}`;\r\n    }\r\n\r\n    const res = await axios.get(apiUrl);\r\n    dispatch({\r\n      type: GET_TASKS,\r\n      payload: res.data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_ERRORS,\r\n      payload: error.response.data,\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const createTask = (task, dep_id, emp_id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post(\r\n      `http://localhost:8095/api/tasks/${dep_id}/${emp_id}`,\r\n      task\r\n    );\r\n\r\n    // Dispatch an action to handle the successful creation\r\n    dispatch({\r\n      type: CREATE_TASK, // You should define this action type in your Redux actions\r\n      payload: res.data,\r\n      priority: parseInt(task.priority), // Use task.priority to get the priority\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_ERRORS,\r\n      payload: error.response.data,\r\n    });\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const getTask = (dep_id, emp_id, id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`http://localhost:8095/api/tasks/${dep_id}/${emp_id}/${id}`);\r\n    dispatch({\r\n      type: GET_TASK,\r\n      payload: res.data,\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({\r\n      type: GET_ERRORS,\r\n      payload: error.response.data,\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const deleteTask = (dep_id, emp_id, id) => async (dispatch) => {\r\n  if (window.confirm(\"Are you sure you want to delete this Task?\")) {\r\n    await axios.delete(`http://localhost:8095/api/tasks/${dep_id}/${emp_id}/${id}`);\r\n    dispatch({\r\n      type: DELETE_TASK,\r\n      payload: id,\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const updateTask = (updatedTask, dep_id, emp_id, id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.put(\r\n      `http://localhost:8095/api/tasks/${dep_id}/${emp_id}/${id}`,\r\n      updatedTask,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n\r\n    // Dispatch an action to handle the successful update\r\n    dispatch({\r\n      type: UPDATE_TASK, // Define the action type here\r\n      payload: res.data, // You may update the payload based on your needs\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_ERRORS,\r\n      payload: error.response.data,\r\n    });\r\n  }\r\n};\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACEC,SAAS,EACTC,UAAU,EACVC,WAAW,EACXC,QAAQ,EACRC,WAAW,EACXC,WAAW,QACN,SAAS;AAEhB,OAAO,MAAMC,QAAQ,GAAGA,CAACC,MAAM,EAAEC,MAAM,EAAEC,EAAE,KAAK,MAAOC,QAAQ,IAAK;EAClE,IAAI;IACF,IAAIC,MAAM,GAAI,mCAAkCJ,MAAO,IAAGC,MAAO,EAAC;IAElE,IAAIC,EAAE,EAAE;MACN;MACAE,MAAM,IAAK,IAAGF,EAAG,EAAC;IACpB;IAEA,MAAMG,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAG,CAACF,MAAM,CAAC;IACnCD,QAAQ,CAAC;MACPI,IAAI,EAAEd,SAAS;MACfe,OAAO,EAAEH,GAAG,CAACI;IACf,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdP,QAAQ,CAAC;MACPI,IAAI,EAAEb,UAAU;MAChBc,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACF;IAC1B,CAAC,CAAC;EACJ;AACF,CAAC;AAGD,OAAO,MAAMG,UAAU,GAAGA,CAACC,IAAI,EAAEb,MAAM,EAAEC,MAAM,KAAK,MAAOE,QAAQ,IAAK;EACtE,IAAI;IACF,MAAME,GAAG,GAAG,MAAMb,KAAK,CAACsB,IAAI,CACzB,mCAAkCd,MAAO,IAAGC,MAAO,EAAC,EACrDY,IACF,CAAC;;IAED;IACAV,QAAQ,CAAC;MACPI,IAAI,EAAEZ,WAAW;MAAE;MACnBa,OAAO,EAAEH,GAAG,CAACI,IAAI;MACjBM,QAAQ,EAAEC,QAAQ,CAACH,IAAI,CAACE,QAAQ,CAAC,CAAE;IACrC,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdP,QAAQ,CAAC;MACPI,IAAI,EAAEb,UAAU;MAChBc,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACF;IAC1B,CAAC,CAAC;EACJ;AACF,CAAC;AAID,OAAO,MAAMQ,OAAO,GAAGA,CAACjB,MAAM,EAAEC,MAAM,EAAEC,EAAE,KAAK,MAAOC,QAAQ,IAAK;EACjE,IAAI;IACF,MAAME,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAG,CAAE,mCAAkCN,MAAO,IAAGC,MAAO,IAAGC,EAAG,EAAC,CAAC;IACxFC,QAAQ,CAAC;MACPI,IAAI,EAAEX,QAAQ;MACdY,OAAO,EAAEH,GAAG,CAACI;IACf,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdQ,OAAO,CAACC,GAAG,CAACT,KAAK,CAAC;IAClBP,QAAQ,CAAC;MACPI,IAAI,EAAEb,UAAU;MAChBc,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACF;IAC1B,CAAC,CAAC;EACJ;AACF,CAAC;AAGD,OAAO,MAAMW,UAAU,GAAGA,CAACpB,MAAM,EAAEC,MAAM,EAAEC,EAAE,KAAK,MAAOC,QAAQ,IAAK;EACpE,IAAIkB,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,EAAE;IAChE,MAAM9B,KAAK,CAAC+B,MAAM,CAAE,mCAAkCvB,MAAO,IAAGC,MAAO,IAAGC,EAAG,EAAC,CAAC;IAC/EC,QAAQ,CAAC;MACPI,IAAI,EAAEV,WAAW;MACjBW,OAAO,EAAEN;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAGD,OAAO,MAAMsB,UAAU,GAAGA,CAACC,WAAW,EAAEzB,MAAM,EAAEC,MAAM,EAAEC,EAAE,KAAK,MAAOC,QAAQ,IAAK;EACjF,IAAI;IACF,MAAME,GAAG,GAAG,MAAMb,KAAK,CAACkC,GAAG,CACxB,mCAAkC1B,MAAO,IAAGC,MAAO,IAAGC,EAAG,EAAC,EAC3DuB,WAAW,EACX;MACEE,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CACF,CAAC;;IAED;IACAxB,QAAQ,CAAC;MACPI,IAAI,EAAET,WAAW;MAAE;MACnBU,OAAO,EAAEH,GAAG,CAACI,IAAI,CAAE;IACrB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdP,QAAQ,CAAC;MACPI,IAAI,EAAEb,UAAU;MAChBc,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACF;IAC1B,CAAC,CAAC;EACJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}